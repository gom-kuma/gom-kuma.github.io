<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë†ë‹´ê³° ì¸í˜• ë¦¬ìŠ¤íŠ¸</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        body {
            font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 1. íƒ€ì´í‹€ í—¤ë” ë†’ì´ ì¶•ì†Œ & ë””ìì¸ */
        .list-header {
            text-align: center;
            padding: 15px 0; /* ë†’ì´ ì¤„ì„ */
            background-color: #fff;
            border-bottom: 2px solid #eee;
            margin-bottom: 15px;
            width: 100%;
            border-radius: 8px 8px 0 0;
        }

        .list-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        
        /* ë‹‰ë„¤ì„ í‘œì‹œ (ê¸°ë³¸ ìˆ¨ê¹€) */
        .user-nickname {
            font-size: 0.9rem;
            color: #888;
            margin-top: 5px;
            font-weight: normal;
            display: none; 
        }

        .list-container {
            width: 100%;
            max-width: 600px;
            background-color: white;
            padding: 0;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden; /* ìì‹ ìš”ì†Œ íŠ€ì–´ë‚˜ì˜´ ë°©ì§€ */
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* í•œ ì¤„ì— 3ê°œ */
            gap: 10px;
            padding: 15px;
        }

        /* ì˜ˆì‹œ ì•„ì´í…œ ìŠ¤íƒ€ì¼ (ë°ì´í„° ì—°ë™ ì „ ë³´ì—¬ì£¼ê¸°ìš©) */
        .item-card {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }
        .item-img {
            width: 80px;
            height: 80px;
            background-color: #ddd;
            border-radius: 50%;
            margin: 0 auto 5px;
        }
        .item-name { font-size: 0.8rem; font-weight: bold; }

        /* ì €ì¥ ì˜µì…˜ íŒ¨ë„ ìŠ¤íƒ€ì¼ */
        .save-options {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 12px;
            background-color: #fff;
            width: 100%;
            max-width: 560px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .save-options h3 { margin-top: 0; }

        .option-group {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .option-group label { font-weight: bold; font-size: 0.95rem; }

        /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        input[type="text"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        button {
            background-color: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
        }
        button:hover { background-color: #555; }

        .btn-reset { background-color: #e74c3c; }
        .btn-reset:hover { background-color: #c0392b; }
    </style>
</head>
<body>

    <div id="captureArea" class="list-container">
        <div class="list-header">
            <h1 class="list-title" id="displayTitle">[ë†ë‹´ê³° ì¸í˜• ë³´ìœ  ë¦¬ìŠ¤íŠ¸]</h1>
            <div class="user-nickname" id="displayNickname"></div>
        </div>

        <div class="items-grid" id="itemsGrid">
            <div class="item-card"><div class="item-img"></div><div class="item-name">ì˜ˆì‹œ ì¸í˜• 1</div></div>
            <div class="item-card"><div class="item-img"></div><div class="item-name">ì˜ˆì‹œ ì¸í˜• 2</div></div>
            <div class="item-card"><div class="item-img"></div><div class="item-name">ì˜ˆì‹œ ì¸í˜• 3</div></div>
        </div>
    </div>

    <div class="save-options">
        <h3>ğŸ¨ ë¦¬ìŠ¤íŠ¸ ê¾¸ë¯¸ê¸° ì˜µì…˜</h3>
        
        <div class="option-group">
            <label>ğŸ“ ì œëª© ë³€ê²½:</label>
            <input type="text" id="titleInput" value="[ë†ë‹´ê³° ì¸í˜• ë³´ìœ  ë¦¬ìŠ¤íŠ¸]" style="width: 250px;">
        </div>

        <div class="option-group">
            <label style="cursor: pointer;">
                <input type="checkbox" id="nicknameCheck" disabled> 
                ë‹‰ë„¤ì„ í‘œê¸°
            </label>
            <input type="text" id="nicknameInput" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" style="width: 200px;">
        </div>
        
        <hr style="margin: 15px 0; border: 0; border-top: 1px solid #eee;">

        <button onclick="saveImage()">ğŸ“¸ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°</button>
        </div>

    <script>
        // ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const titleInput = document.getElementById('titleInput');
        const displayTitle = document.getElementById('displayTitle');
        const nicknameInput = document.getElementById('nicknameInput');
        const nicknameCheck = document.getElementById('nicknameCheck');
        const displayNickname = document.getElementById('displayNickname');

        // 3. íƒ€ì´í‹€ ì‹¤ì‹œê°„ ë°˜ì˜
        titleInput.addEventListener('input', function() {
            displayTitle.textContent = this.value;
        });

        // 4. ë‹‰ë„¤ì„ ë¡œì§ (ì…ë ¥í•˜ë©´ ì²´í¬ë˜ê³ , ì§€ìš°ë©´ í•´ì œë¨)
        nicknameInput.addEventListener('input', function() {
            const text = this.value.trim();
            if (text.length > 0) {
                nicknameCheck.checked = true;
                displayNickname.textContent = "ì‘ì„±ì : " + text; // 'ì‘ì„±ì :' ê°™ì€ ê±¸ ë¶™ì—¬ë„ ì¢‹ê³  ê·¸ëƒ¥ textë§Œ ë„£ì–´ë„ ë¨
                displayNickname.style.display = 'block';
            } else {
                nicknameCheck.checked = false;
                displayNickname.style.display = 'none';
            }
        });

        // ìº¡ì³ ê¸°ëŠ¥
        function saveImage() {
            const captureArea = document.getElementById('captureArea');
            
            // ìº¡ì³ ì‹œ í•´ìƒë„ ì´ìŠˆ ë°©ì§€ ì˜µì…˜
            html2canvas(captureArea, {
                scale: 2, 
                backgroundColor: null,
                useCORS: true 
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'nongdamgom_list.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
        
        // ì—¬ê¸°ì— êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´ ì¶”ê°€í•´ì•¼ í•´!
        // (ì§€ê¸ˆì€ í™”ë©´ì´ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ 'ì˜ˆì‹œ ì¸í˜•' ë°•ìŠ¤ë§Œ ë„£ì–´ë’€ì–´)
    </script>
</body>
</html>
